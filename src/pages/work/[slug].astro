---
import Layout from '../../layouts/Layout.astro';
import Header from '../../components/Header.astro';
import Footer from '../../components/Footer.astro';
import MagneticButton from '../../components/effects/MagneticButton.astro';
import ParallaxImage from '../../components/effects/ParallaxImage.astro';
import MarqueeText from '../../components/effects/MarqueeText.astro';

export function getStaticPaths() {
  const caseStudies = [
    {
      slug: 'walker-inspection',
      client: 'Walker Inspection',
      tagline: 'YOU CALL. WE GO.',
      industry: 'Oil & Gas Inspection Services',
      location: 'Wyoming, North Dakota, Texas, Oklahoma, New Mexico',
      heroVideo: 'https://www.youtube.com/embed/sb9JkX0JuLY',
      services: [
        'Complete website design',
        'Professional photography',
        'Company hero video',
        'Ongoing social media management',
        'TikTok, LinkedIn, Facebook, Instagram, YouTube',
        'Email signatures & business cards',
        'Sales deck & SOP deck',
        'Messaging & Tagline Creation: YOU CALL. WE GO.',
        'New Hard Hat & T-shirt designs',
      ],
      challenge: 'After 15 years in business, Walker Inspection had a strong field reputation but an outdated digital presence that didn\'t match the quality or scale of their work.',
      solution: 'We refreshed the brand without changing its core identity—keeping the logo while modernizing everything around it. We rolled out updated brand guidelines, launched a conversion-focused website, and produced professional photo and video content that shows their crews and capabilities in action, led by a cinematic hero video.\n\nWe built and launched their full social media presence from the ground up. Starting with only a basic Facebook page, we optimized Facebook and launched Instagram, LinkedIn, YouTube, and TikTok, publishing daily professional content. In the first year, this generated 8.5M+ views, 140K engagements, and 2,500+ posts.\n\nThe expanded digital presence directly increased visibility and drove significant revenue growth in their Texas and New Mexico operations, while also producing hundreds of job applications through their online channels.\n\nTo carry the brand into the field, we also designed new hard hats, hard hat stickers, and branded T-shirts.',
      results: [
        'Complete brand refresh',
        'Conversion-focused website launch',
        '5-platform social media buildout',
        '8.5M+ views, 140K+ engagements, 2,500+ posts',
        'Significant revenue growth in TX & NM',
        'Hundreds of job applications generated',
        'Sales and SOP decks delivered',
      ],
      testimonial: '"Okay, I will admit it. This social media stuff really does work."',
      testimonialAuthor: 'Operations Manager, Walker Inspection',
      heroImage: 'https://images.pexels.com/photos/2760243/pexels-photo-2760243.jpeg?auto=compress&cs=tinysrgb&w=1920',
      galleryImages: [
        'https://images.pexels.com/photos/2760241/pexels-photo-2760241.jpeg?auto=compress&cs=tinysrgb&w=800',
        'https://images.pexels.com/photos/585419/pexels-photo-585419.jpeg?auto=compress&cs=tinysrgb&w=800',
        'https://images.pexels.com/photos/1117452/pexels-photo-1117452.jpeg?auto=compress&cs=tinysrgb&w=800',
        'https://images.pexels.com/photos/2881632/pexels-photo-2881632.jpeg?auto=compress&cs=tinysrgb&w=800',
      ],
    },
    {
      slug: 'prc',
      client: 'PRC',
      tagline: 'WE BUILD.™',
      industry: 'Heavy Construction',
      location: 'Wyoming & Montana',
      services: [
        'Complete rebrand from "Powder River Construction" to "PRC"',
        'Company tagline: WE BUILD.™ (trademark pending)',
        'New logo and brand identity',
        'Brand book development',
        'Website design',
        'Professional photography',
        'Hero video',
        'Ongoing social media management (TikTok, LinkedIn, Facebook, Instagram, YouTube)',
        'Professional videography',
        'Email signatures & business card designs',
        'Truck fleet & job trailer wrap design collaboration',
      ],
      challenge: 'Powder River Construction needed to dramatically increase recruiting results and attract stronger candidates. Their name and brand no longer matched the scale of their work or the growth they were pushing toward, limiting visibility and hiring momentum.',
      solution: 'We executed a full rebrand from Powder River Construction to PRC, supported by a bold new logo, brand identity, and the tagline WE BUILD.™ (trademark pending). We launched a recruiting-focused website, produced professional photography and videography, and created a cinematic hero video. We collaborated on truck and job trailer wrap designs and rolled out branded email signatures and business cards for company-wide consistency.\n\nWe also launched and manage ongoing social media across TikTok, LinkedIn, Facebook, Instagram, and YouTube with consistent professional content built around projects, culture, and hiring.\n\nResult: Applications tripled after a few months — 60 applications in 30 days vs. 20 in the entire previous year.',
      results: [
        'New brand identity overhaul',
        'Conversion-focused website launch',
        '5-platform social media buildout',
        'Significant increase in job applications',
      ],
      heroImage: 'https://images.pexels.com/photos/2219024/pexels-photo-2219024.jpeg?auto=compress&cs=tinysrgb&w=1920',
      galleryImages: [
        'https://images.pexels.com/photos/1108101/pexels-photo-1108101.jpeg?auto=compress&cs=tinysrgb&w=800',
        'https://images.pexels.com/photos/416405/pexels-photo-416405.jpeg?auto=compress&cs=tinysrgb&w=800',
        'https://images.pexels.com/photos/2760243/pexels-photo-2760243.jpeg?auto=compress&cs=tinysrgb&w=800',
        'https://images.pexels.com/photos/2881632/pexels-photo-2881632.jpeg?auto=compress&cs=tinysrgb&w=800',
      ],
    },
    {
      slug: 'mtn-mud',
      client: 'MTN Mud',
      tagline: 'Service Based Drilling Fluids.',
      industry: 'Drilling Fluids & Services',
      location: 'Rocky Mountain Region',
      heroVideo: 'https://www.youtube.com/embed/5J2rCuJqqtQ',
      services: [
        'Complete rebrand from "Mountain Mud Service & Supply" to "MTN MUD"',
        'Created tagline: Service Based Drilling Fluids',
        'Modern logo with clean derrick icon inside shield',
        'Brand book development',
        'Website rebuild',
        'Professional photography',
        'Company overview video',
        '5-platform social media buildout',
        'Professional videography',
        'New email signatures and business card designs',
        'Sales decks redesign',
        'New fleet graphics',
      ],
      challenge: 'Mountain Mud Service & Supply had strong field credibility, but their long name and dated brand made it harder to stand out and stick in a competitive drilling market. They needed a tighter identity and modern presence that matched the toughness and reliability of their services.',
      solution: 'We led a complete rebrand from Mountain Mud Service & Supply to MTN MUD, creating a stronger, more memorable name and a new tagline: Service Based Drilling Fluids. We developed a modern logo featuring a clean derrick icon inside a shield and built a dark, industrial brand system aligned with the drilling industry.\n\nWe rebuilt the website, produced professional photography and videography, and delivered a company overview video to clearly communicate capabilities and credibility. We built out their social media presence across five platforms—updating LinkedIn and launching Facebook, Instagram, TikTok, and YouTube with consistent professional content.\n\nTo extend the new brand across operations and sales, we designed new fleet graphics, email signatures, business cards, and redesigned their sales decks.',
      results: [
        'Full rebrand from Mountain Mud Service & Supply to MTN MUD',
        'New logo, shield + derrick icon, and tagline created',
        'Website fully rebuilt',
        '5-platform social media buildout and optimization',
        'Professional photo and video production',
        'Company overview video delivered',
        'Fleet graphics package designed',
        'Email signatures and business cards rolled out',
        'Sales deck redesign completed',
      ],
      heroImage: 'https://images.pexels.com/photos/1108101/pexels-photo-1108101.jpeg?auto=compress&cs=tinysrgb&w=1920',
      galleryImages: [
        'https://images.pexels.com/photos/2760241/pexels-photo-2760241.jpeg?auto=compress&cs=tinysrgb&w=800',
        'https://images.pexels.com/photos/2219024/pexels-photo-2219024.jpeg?auto=compress&cs=tinysrgb&w=800',
        'https://images.pexels.com/photos/585419/pexels-photo-585419.jpeg?auto=compress&cs=tinysrgb&w=800',
        'https://images.pexels.com/photos/1117452/pexels-photo-1117452.jpeg?auto=compress&cs=tinysrgb&w=800',
      ],
    },
    {
      slug: 'wood-wireline',
      client: 'Wood Wireline',
      tagline: 'Efficient. Reliable. Ready.',
      industry: 'Wireline Services',
      location: 'Rocky Mountain Region',
      heroVideo: 'https://www.youtube.com/embed/I5wQVq_7LrA',
      services: [
        'Existing logo optimization',
        'Brand book development',
        'Tagline creation: Efficient. Reliable. Ready.',
        'Website rebuild',
        'Professional photography',
        'Staff headshots',
        'Hero video',
        'Full social media build-out',
        'Event booth design',
        'Business cards & email signatures',
        'Sales deck presentations',
      ],
      challenge: 'Wood Wireline had a strong field reputation, but their brand and marketing assets didn\'t reflect the quality and reliability of their day-to-day operations. As they grew, they needed a more consistent, professional presence across web, sales, and recruiting channels.',
      solution: 'We strengthened the brand without starting from scratch—optimizing their existing logo and building a complete brand book to ensure consistent use across all platforms. We developed the tagline Efficient. Reliable. Ready. to clearly communicate their core value on every touchpoint.\n\nFrom there, we rebuilt their website and produced professional photography and a cinematic hero video to showcase real crews and real work in the field. We launched a full social media build-out to establish a consistent digital presence and designed a branded event booth to elevate their trade show visibility. To support sales and daily operations, we also created updated business cards, email signatures, and sales deck presentations.',
      results: [
        'Logo optimized + brand book created',
        'Tagline developed',
        'Website rebuilt',
        'Pro photo + hero video produced',
        'Social media fully launched',
        'Event booth designed',
        'Cards, signatures, and sales decks created',
      ],
      heroImage: 'https://images.pexels.com/photos/2881632/pexels-photo-2881632.jpeg?auto=compress&cs=tinysrgb&w=1920',
      galleryImages: [
        'https://images.pexels.com/photos/2760241/pexels-photo-2760241.jpeg?auto=compress&cs=tinysrgb&w=800',
        'https://images.pexels.com/photos/1108101/pexels-photo-1108101.jpeg?auto=compress&cs=tinysrgb&w=800',
        'https://images.pexels.com/photos/585419/pexels-photo-585419.jpeg?auto=compress&cs=tinysrgb&w=800',
        'https://images.pexels.com/photos/416405/pexels-photo-416405.jpeg?auto=compress&cs=tinysrgb&w=800',
      ],
    },
  ];

  return caseStudies.map((study) => ({
    params: { slug: study.slug },
    props: { study },
  }));
}

const { study } = Astro.props;

// Get all case studies for navigation
const allStudies = [
  { slug: 'walker-inspection', client: 'Walker Inspection' },
  { slug: 'prc', client: 'PRC' },
  { slug: 'mtn-mud', client: 'MTN Mud' },
  { slug: 'wood-wireline', client: 'Wood Wireline' },
];

const currentIndex = allStudies.findIndex(s => s.slug === study.slug);
const nextStudy = allStudies[(currentIndex + 1) % allStudies.length];
---

<Layout
  title={`${study.client} Case Study | KUT | THRŪ Media`}
  description={`See how we helped ${study.client} with ${study.services[0].toLowerCase()}. ${study.tagline}`}
>
  <Header />

  <main class="flex-1">
    <!-- Hero Section -->
    <section class="relative min-h-screen flex items-end pb-20 overflow-hidden">
      <!-- Background Image -->
      <div class="absolute inset-0">
        <img
          src={study.heroImage}
          alt={study.client}
          class="w-full h-full object-cover"
        />
        <div class="absolute inset-0 bg-gradient-to-t from-charcoal via-charcoal/60 to-charcoal/20"></div>
      </div>

      <div class="container relative z-10 pt-40">
        <div class="max-w-4xl">
          <span class="eyebrow block mb-6" data-animate="fade-up">Case Study</span>
          <h1 class="headline-hero mb-6" data-animate="fade-up">
            {study.client}
          </h1>
          <p class="text-3xl lg:text-4xl font-bold text-power-red mb-8" data-animate="fade-up">
            {study.tagline}
          </p>
          <div class="flex flex-wrap gap-6 text-text-muted" data-animate="fade-up">
            <div>
              <span class="block text-xs uppercase tracking-wider text-text-subtle mb-1">Industry</span>
              <span class="text-lg">{study.industry}</span>
            </div>
            <div class="w-px bg-white/10"></div>
            <div>
              <span class="block text-xs uppercase tracking-wider text-text-subtle mb-1">Location</span>
              <span class="text-lg">{study.location}</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Scroll indicator -->
      <div class="absolute bottom-10 left-1/2 -translate-x-1/2 flex flex-col items-center gap-4" data-animate="fade-up">
        <span class="text-xs uppercase tracking-widest text-text-subtle">Scroll</span>
        <div class="w-px h-16 bg-gradient-to-b from-power-red to-transparent"></div>
      </div>
    </section>

    <!-- Marquee -->
    <section class="py-6 border-y border-white/5 bg-charcoal-light overflow-hidden">
      <MarqueeText
        text={study.tagline}
        speed={15}
        class="text-xl font-bold text-text-subtle/20"
      />
    </section>

    <!-- Hero Video Section -->
    {study.heroVideo && (
      <section class="section bg-gray-900">
        <div class="container">
          <div class="max-w-5xl mx-auto">
            <div class="aspect-video">
              <iframe
                src={study.heroVideo}
                title={`${study.client} Hero Video`}
                class="w-full h-full"
                frameborder="0"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                allowfullscreen
              ></iframe>
            </div>
          </div>
        </div>
      </section>
    )}

    <!-- Overview Section -->
    <section class="section bg-charcoal">
      <div class="container">
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-16 lg:gap-24">
          <!-- Services -->
          <div data-animate="fade-up">
            <h2 class="text-sm font-bold uppercase tracking-wider text-text-subtle mb-8">What We Did</h2>
            <ul class="space-y-4">
              {study.services.map((service: string) => (
                <li class="flex items-start gap-4">
                  <span class="w-2 h-2 bg-power-red mt-2.5 flex-shrink-0"></span>
                  <span class="text-lg text-text-muted">{service}</span>
                </li>
              ))}
            </ul>
          </div>

          <!-- Challenge & Solution -->
          <div class="lg:col-span-2 space-y-16">
            <div data-animate="fade-up">
              <h2 class="headline-md mb-6">The Challenge</h2>
              <p class="body-lg text-text-muted">{study.challenge}</p>
            </div>

            <div data-animate="fade-up">
              <h2 class="headline-md mb-6">The Solution</h2>
              {study.solution.split('\n\n').map((paragraph: string) => (
                <p class="body-lg text-text-muted mb-4">{paragraph}</p>
              ))}
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Gallery Section -->
    <section class="section bg-gray-900">
      <div class="container">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          {study.galleryImages.map((img: string, i: number) => (
            <div class={`${i === 0 ? 'md:col-span-2' : ''}`} data-animate="fade-up">
              <ParallaxImage
                src={img}
                alt={`${study.client} project image ${i + 1}`}
                class={i === 0 ? 'aspect-video' : 'aspect-4/3'}
                speed={0.1}
              />
            </div>
          ))}
        </div>
      </div>
    </section>

    <!-- Results Section -->
    {study.results && (
      <section class="section bg-charcoal">
        <div class="container">
          <div class="max-w-4xl mx-auto">
            <h2 class="headline-lg text-center mb-16" data-animate="fade-up">The Results</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
              {study.results.map((result: string) => (
                <div class="p-8 border border-white/10 bg-gray-900/50" data-animate="fade-up">
                  <div class="flex items-start gap-4">
                    <svg class="w-6 h-6 text-power-red flex-shrink-0 mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                    </svg>
                    <p class="text-lg">{result}</p>
                  </div>
                </div>
              ))}
            </div>
          </div>
        </div>
      </section>
    )}

    <!-- Testimonial -->
    {study.testimonial && (
      <section class="section bg-power-red relative overflow-hidden">
        <div class="absolute inset-0 opacity-10">
          <div class="absolute top-0 left-0 w-full h-full" style="background-image: repeating-linear-gradient(-45deg, transparent, transparent 35px, rgba(0,0,0,0.1) 35px, rgba(0,0,0,0.1) 70px);"></div>
        </div>

        <div class="container relative z-10">
          <div class="max-w-4xl mx-auto text-center">
            <svg class="w-16 h-16 mx-auto mb-8 text-impact-white/20" fill="currentColor" viewBox="0 0 24 24">
              <path d="M14.017 21v-7.391c0-5.704 3.731-9.57 8.983-10.609l.995 2.151c-2.432.917-3.995 3.638-3.995 5.849h4v10h-9.983zm-14.017 0v-7.391c0-5.704 3.748-9.57 9-10.609l.996 2.151c-2.433.917-3.996 3.638-3.996 5.849h3.983v10h-9.983z"/>
            </svg>
            <blockquote class="text-3xl lg:text-4xl font-bold text-impact-white mb-8 leading-tight" data-animate="fade-up">
              {study.testimonial}
            </blockquote>
            {study.testimonialAuthor && (
              <cite class="text-impact-white/80 text-lg not-italic" data-animate="fade-up">
                — {study.testimonialAuthor}
              </cite>
            )}
          </div>
        </div>
      </section>
    )}

    <!-- Next Project -->
    <section class="section bg-charcoal border-t border-white/5">
      <div class="container">
        <div class="text-center">
          <span class="eyebrow block mb-6" data-animate="fade-up">Next Project</span>
          <a href={`/work/${nextStudy.slug}`} class="group inline-block" data-animate="fade-up">
            <h2 class="headline-xl group-hover:text-power-red transition-colors duration-300">
              {nextStudy.client}
              <svg class="inline-block w-12 h-12 ml-4 transform group-hover:translate-x-2 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
              </svg>
            </h2>
          </a>
        </div>
      </div>
    </section>

    <!-- CTA Section -->
    <section class="section bg-gray-900">
      <div class="container">
        <div class="max-w-4xl mx-auto text-center">
          <h2 class="headline-lg mb-6" data-animate="fade-up">
            Want Results Like This?
          </h2>
          <p class="body-lg text-text-muted mb-12" data-animate="fade-up">
            Let's talk about what we can build for your business.
          </p>
          <div data-animate="fade-up">
            <MagneticButton href="/contact" variant="primary" size="lg">
              <span>Start the Conversation</span>
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
              </svg>
            </MagneticButton>
          </div>
        </div>
      </div>
    </section>
  </main>

  <Footer />
</Layout>
